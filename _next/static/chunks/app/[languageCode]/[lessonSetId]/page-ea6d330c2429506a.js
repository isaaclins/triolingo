(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2],{9606:function(e,t,s){Promise.resolve().then(s.bind(s,1882)),Promise.resolve().then(s.t.bind(s,2972,23))},1882:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var n=s(7437),l=s(2265),r=s(7648),a=s(9376),o=s(6260);let i=e=>{let t;let s=[],l=0,r=/\[([^\]]+)\]\(([^)]+)\)/g;for(;null!==(t=r.exec(e));){t.index>l&&s.push(e.substring(l,t.index));let a=t[1],o=t[2];s.push((0,n.jsx)("span",{className:"hoverable-word","data-definition":o,children:a},"".concat(a,"-").concat(t.index))),l=r.lastIndex}return l<e.length&&s.push(e.substring(l)),s.length>0?s:[e]};function c(e){let{initialLessonData:t,initialLanguageDetails:s,initialLessonSetMeta:c,languageCode:d}=e,u=(0,a.useRouter)(),{score:x,setScore:b,hearts:h,setHearts:m,streak:g,setStreak:f}=(0,o.j)(),[p,v]=(0,l.useState)(t),[j,N]=(0,l.useState)(s),[y,w]=(0,l.useState)(c),[C,S]=(0,l.useState)(0),[k,E]=(0,l.useState)(""),[D,L]=(0,l.useState)(!1),[O,P]=(0,l.useState)(!1),[_,G]=(0,l.useState)(""),R=null==p?void 0:p.lessons[C],F=p&&p.lessons.length>0?(C+1)/p.lessons.length*100:0,I=e=>{D||(E(e),(null==R?void 0:R.type)!=="fill-blank"&&G(e))};if(!p||!R||!j||!y)return(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,n.jsx)("div",{className:"text-4xl mb-4",children:"\uD83E\uDD14"}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-700",children:"Lesson content is unavailable."}),(0,n.jsx)(r.default,{href:"/".concat(d),className:"mt-6 inline-block text-blue-500 hover:text-blue-600 font-medium",children:"← Back to Lesson Selection"})]});let T=i(R.question);return(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,n.jsx)("span",{children:y.title}),(0,n.jsxs)("span",{children:["Question ",C+1," of ",p.lessons.length]})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,n.jsx)("div",{className:"bg-green-500 rounded-full transition-all duration-300 ease-out h-3",style:{width:"".concat(F,"%")}})})]}),D?(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"text-7xl mb-5 ".concat(O?"animate-bounce":"animate-shake"),children:O?"\uD83C\uDF89":"\uD83D\uDE1E"}),(0,n.jsx)("h2",{className:"text-3xl font-bold mb-3 ".concat(O?"text-green-600":"text-red-600"),children:O?"Correct!":"Incorrect"}),!O&&(0,n.jsxs)("p",{className:"text-gray-700 text-lg mb-1",children:["Correct answer:"," ",(0,n.jsx)("span",{className:"font-bold text-green-600",children:R.correct})]}),O&&(0,n.jsx)("p",{className:"text-gray-700 text-lg mb-6",children:"+10 XP earned!"}),(0,n.jsx)("button",{onClick:()=>{L(!1),E(""),G(""),p&&C<p.lessons.length-1?S(C+1):u.push("/".concat(d))},className:"w-full max-w-xs mx-auto mt-6 bg-blue-500 hover:bg-blue-600 text-white font-bold py-3.5 px-8 rounded-xl transition-all duration-200 text-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",children:C<p.lessons.length-1?"CONTINUE":"COMPLETE LESSON"}),0===h&&!O&&(0,n.jsx)("p",{className:"text-red-500 font-semibold mt-4",children:"You've run out of hearts! Consider Game Over."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsxs)(r.default,{href:"/".concat(d),className:"text-blue-500 hover:text-blue-600 font-medium text-sm",children:["← Back to Lessons (",j.name,")"]}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("span",{className:"text-xl",children:j.flag})})]}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-8 text-center min-h-[60px]",children:T.map((e,t)=>(0,n.jsx)(l.Fragment,{children:e},t))}),"multiple-choice"===R.type&&R.options&&(0,n.jsx)("div",{className:"space-y-3",children:R.options.map((e,t)=>(0,n.jsx)("button",{onClick:()=>I(e),disabled:D,className:"w-full p-4 text-left rounded-xl border-2 transition-all duration-200 disabled:opacity-75 disabled:cursor-not-allowed\n                                        ".concat(k!==e||D?"border-gray-200 hover:border-gray-300 hover:bg-gray-50":"border-blue-500 bg-blue-50 ring-2 ring-blue-400","\n                                        ").concat(D&&e===R.correct?"border-green-500 bg-green-50 text-green-700 font-semibold":"","\n                                        ").concat(D&&k===e&&e!==R.correct?"border-red-500 bg-red-50 text-red-700":"","\n                                    "),children:(0,n.jsx)("span",{className:"text-lg font-medium",children:e})},t))}),"fill-blank"===R.type&&(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)("input",{type:"text",value:_,onChange:e=>{D||(G(e.target.value),E(e.target.value))},disabled:D,placeholder:"Type your answer here...",className:"w-full p-4 text-lg rounded-xl border-2 border-gray-300 focus:border-blue-500 focus:ring-blue-500 outline-none transition-colors disabled:opacity-75 disabled:bg-gray-50"})}),(0,n.jsx)("button",{onClick:()=>{if(!R)return;let e=("fill-blank"===R.type?_.trim():k).toLowerCase()===R.correct.toLowerCase();P(e),L(!0),e?b(e=>e+10):(m(e=>Math.max(0,e-1)),h-1==0&&console.log("Game Over - No hearts left"))},disabled:!k||D,className:"w-full mt-8 py-3.5 rounded-xl font-bold text-lg transition-all duration-200 text-white\n                            ".concat(!k||D?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 hover:bg-green-600","\n                        "),children:"CHECK"})]})]})}},6260:function(e,t,s){"use strict";s.d(t,{GlobalStateProvider:function(){return a},j:function(){return o}});var n=s(7437),l=s(2265);let r=(0,l.createContext)(void 0),a=e=>{let{children:t}=e,[s,a]=(0,l.useState)(0),[o,i]=(0,l.useState)(5),[c,d]=(0,l.useState)(3);return(0,n.jsx)(r.Provider,{value:{score:s,setScore:a,hearts:o,setHearts:i,streak:c,setStreak:d},children:t})},o=()=>{let e=(0,l.useContext)(r);if(void 0===e)throw Error("useGlobalState must be used within a GlobalStateProvider");return e}},9376:function(e,t,s){"use strict";var n=s(5475);s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=9606)}),_N_E=e.O()}]);